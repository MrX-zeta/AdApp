<div class="auth-layout">
	<div class="auth-bg">
		<img class="bg-img" src="/media/logos/fondo_registro.jpg" alt="background" />
	</div>

	<div class="auth-panel">
		<div class="brand">
			<img src="/media/logos/AddApp_a.png" alt="AdApp logo" class="brand-logo" />
			<h2 class="brand-title">Login</h2>
		</div>

		<form [formGroup]="form" (ngSubmit)="submit()" novalidate class="form">
			<label class="field">
				<input type="email" formControlName="email" placeholder="Correo" />
				<div class="error" *ngIf="form.controls['email'].touched && form.controls['email'].invalid">
					Ingresa un correo válido.
				</div>
			</label>

			<label class="field">
				<div class="password">
					<input [type]="hide ? 'password' : 'text'" formControlName="password" placeholder="Contraseña" />
					<button type="button" class="toggle" (click)="toggleVisibility()" aria-label="Mostrar/ocultar">
						<img [src]="hide ? '/media/icons/ojo.png' : '/media/icons/vista.png'" alt="toggle" />
					</button>
				</div>
				<div class="error" *ngIf="form.controls['password'].touched && form.controls['password'].invalid">
					La contraseña debe tener al menos 6 caracteres.
				</div>
			</label>

			<div class="helper">
				¿Olvidaste tu contraseña?
			</div>

			<div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>

			<button type="submit" class="primary" [disabled]="form.invalid || isLoading">
				{{ isLoading ? 'Iniciando sesión...' : 'Login' }}
			</button>

			<div class="register-hint">
				¿No tienes una cuenta? <a routerLink="../register" class="link">Regístrate</a>
			</div>
		</form>
	</div>
</div>
