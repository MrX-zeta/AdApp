<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/Application.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/Application.kt" />
              <option name="originalContent" value="package com.adapp.backend&#10;&#10;import com.adapp.backend.Event.Infrastructure.Routes.configureEventRouting&#10;import com.adapp.backend.Follower.Infrastructure.Routes.configureFollowerRouting&#10;import com.adapp.backend.Shared.Infrastructure.Plugins.configureSerialization&#10;import com.adapp.backend.Song.Infrastructure.Routes.configureSongRouting&#10;import com.adapp.backend.User.Infrastructure.Routes.configureRouting as configureUserRouting&#10;import com.adapp.backend.Artist.Infrastructure.Routes.configureArtistRouting as configureArtistRouting&#10;import com.adapp.backend.SocialMedia.Infrastructure.Routes.configureRouting as configureSocialMediaRouting&#10;import com.adapp.examples.configureFrameworks&#10;&#10;import io.ktor.server.application.*&#10;import io.ktor.server.netty.EngineMain&#10;&#10;fun main(args: Array&lt;String&gt;) {&#10;    // Evitar que Netty use sun.misc.Unsafe en JDKs modernos (suprime warnings y llamadas a Unsafe)&#10;    System.setProperty(&quot;io.netty.noUnsafe&quot;, &quot;true&quot;)&#10;    System.setProperty(&quot;io.netty.tryReflectionSetAccessible&quot;, &quot;false&quot;)&#10;    EngineMain.main(args)&#10;}&#10;&#10;fun Application.module() {&#10;    // Configurar Koin (inyecci칩n de dependencias)&#10;    configureFrameworks()&#10;&#10;    // Configurar plugins&#10;    configureSerialization()&#10;&#10;    // Configurar rutas (los repositorios se inyectan autom치ticamente con Koin)&#10;    configureUserRouting()&#10;    configureArtistRouting()&#10;    configureFollowerRouting()&#10;    configureEventRouting()&#10;    configureSongRouting()&#10;    configureSocialMediaRouting()&#10;}&#10;" />
              <option name="updatedContent" value="package com.adapp.backend&#10;&#10;import com.adapp.backend.Event.Infrastructure.Routes.configureEventRouting&#10;import com.adapp.backend.Follower.Infrastructure.Routes.configureFollowerRouting&#10;import com.adapp.backend.Shared.Infrastructure.Plugins.configureSerialization&#10;import com.adapp.backend.Song.Infrastructure.Routes.configureSongRouting&#10;import com.adapp.backend.User.Infrastructure.Routes.configureRouting as configureUserRouting&#10;import com.adapp.backend.Artist.Infrastructure.Routes.configureArtistRouting as configureArtistRouting&#10;import com.adapp.backend.SocialMedia.Infrastructure.Routes.configureRouting as configureSocialMediaRouting&#10;import com.adapp.backend.FollowerArtist.Infraestructure.Routes.configureFollowerArtistRouting&#10;import com.adapp.examples.configureFrameworks&#10;&#10;import io.ktor.server.application.*&#10;import io.ktor.server.netty.EngineMain&#10;&#10;fun main(args: Array&lt;String&gt;) {&#10;    // Evitar que Netty use sun.misc.Unsafe en JDKs modernos (suprime warnings y llamadas a Unsafe)&#10;    System.setProperty(&quot;io.netty.noUnsafe&quot;, &quot;true&quot;)&#10;    System.setProperty(&quot;io.netty.tryReflectionSetAccessible&quot;, &quot;false&quot;)&#10;    EngineMain.main(args)&#10;}&#10;&#10;fun Application.module() {&#10;    // Configurar Koin (inyecci칩n de dependencias)&#10;    configureFrameworks()&#10;&#10;    // Configurar plugins&#10;    configureSerialization()&#10;&#10;    // Configurar rutas (los repositorios se inyectan autom치ticamente con Koin)&#10;    configureUserRouting()&#10;    configureArtistRouting()&#10;    configureFollowerRouting()&#10;    configureFollowerArtistRouting()&#10;    configureEventRouting()&#10;    configureSongRouting()&#10;    configureSocialMediaRouting()&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Application/FollowArtist/FollowArtist.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Application/FollowArtist/FollowArtist.kt" />
              <option name="updatedContent" value="package com.adapp.backend.FollowerArtist.Application.FollowArtist&#10;&#10;import com.adapp.backend.FollowerArtist.Domain.Models.FollowerArtist&#10;import com.adapp.backend.FollowerArtist.Domain.Repositories.FollowerArtistRepository&#10;&#10;class FollowArtist(private val repository: FollowerArtistRepository) {&#10;    operator fun invoke(followerId: Int, artistId: Int) {&#10;        val followerArtist = FollowerArtist(followerId, artistId)&#10;        repository.create(followerArtist)&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Application/GetArtistFollowers/GetArtistFollowers.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Application/GetArtistFollowers/GetArtistFollowers.kt" />
              <option name="updatedContent" value="package com.adapp.backend.FollowerArtist.Application.GetArtistFollowers&#10;&#10;import com.adapp.backend.FollowerArtist.Domain.Models.FollowerArtist&#10;import com.adapp.backend.FollowerArtist.Domain.Repositories.FollowerArtistRepository&#10;&#10;class GetArtistFollowers(private val repository: FollowerArtistRepository) {&#10;    operator fun invoke(artistId: Int): List&lt;FollowerArtist&gt; {&#10;        return repository.getByArtistId(artistId)&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Application/GetFollowedArtists/GetFollowedArtists.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Application/GetFollowedArtists/GetFollowedArtists.kt" />
              <option name="updatedContent" value="package com.adapp.backend.FollowerArtist.Application.GetFollowedArtists&#10;&#10;import com.adapp.backend.FollowerArtist.Domain.Models.FollowerArtist&#10;import com.adapp.backend.FollowerArtist.Domain.Repositories.FollowerArtistRepository&#10;&#10;class GetFollowedArtists(private val repository: FollowerArtistRepository) {&#10;    operator fun invoke(followerId: Int): List&lt;FollowerArtist&gt; {&#10;        return repository.getByFollowerId(followerId)&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Application/UnfollowArtist/UnfollowArtist.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Application/UnfollowArtist/UnfollowArtist.kt" />
              <option name="updatedContent" value="package com.adapp.backend.FollowerArtist.Application.UnfollowArtist&#10;&#10;import com.adapp.backend.FollowerArtist.Domain.Repositories.FollowerArtistRepository&#10;&#10;class UnfollowArtist(private val repository: FollowerArtistRepository) {&#10;    operator fun invoke(followerId: Int, artistId: Int) {&#10;        repository.delete(followerId, artistId)&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Domain/Repositories/FollowerArtistRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Domain/Repositories/FollowerArtistRepository.kt" />
              <option name="updatedContent" value="package com.adapp.backend.FollowerArtist.Domain.Repositories&#10;&#10;import com.adapp.backend.FollowerArtist.Domain.Models.FollowerArtist&#10;&#10;interface FollowerArtistRepository {&#10;    fun create(followerArtist: FollowerArtist)&#10;    fun delete(followerId: Int, artistId: Int)&#10;    fun getByFollowerId(followerId: Int): List&lt;FollowerArtist&gt;&#10;    fun getByArtistId(artistId: Int): List&lt;FollowerArtist&gt;&#10;    fun getAll(): List&lt;FollowerArtist&gt;&#10;    fun exists(followerId: Int, artistId: Int): Boolean&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Infraestructure/Controllers/KtorFollowerArtistController.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Infraestructure/Controllers/KtorFollowerArtistController.kt" />
              <option name="originalContent" value="            FollowerArtistDTO(it.followerId, it.artistId)&#10;        }&#10;    }&#10;&#10;    fun isFollowing(followerId: Int, artistId: Int): Boolean {&#10;        return repository.exists(followerId, artistId)&#10;    }&#10;&#10;    fun getFollowersCount(artistId: Int): Int {&#10;        return getArtistFollowersUseCase.invoke(artistId).size&#10;    }&#10;&#10;    fun getFollowedArtistsIds(followerId: Int): List&lt;Int&gt; {&#10;        return getFollowedArtistsUseCase.invoke(followerId).map { it.artistId }&#10;    }&#10;&#10;    fun getArtistFollowersIds(artistId: Int): List&lt;Int&gt; {&#10;        return getArtistFollowersUseCase.invoke(artistId).map { it.followerId }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.adapp.backend.FollowerArtist.Infraestructure.Controllers&#10;&#10;import com.adapp.backend.FollowerArtist.Application.FollowArtist.FollowArtist&#10;import com.adapp.backend.FollowerArtist.Application.UnfollowArtist.UnfollowArtist&#10;import com.adapp.backend.FollowerArtist.Application.GetFollowedArtists.GetFollowedArtists&#10;import com.adapp.backend.FollowerArtist.Application.GetArtistFollowers.GetArtistFollowers&#10;import com.adapp.backend.FollowerArtist.Domain.Models.FollowerArtistDTO&#10;import com.adapp.backend.FollowerArtist.Domain.Repositories.FollowerArtistRepository&#10;&#10;class KtorFollowerArtistController(&#10;    private val followArtistUseCase: FollowArtist,&#10;    private val unfollowArtistUseCase: UnfollowArtist,&#10;    private val getFollowedArtistsUseCase: GetFollowedArtists,&#10;    private val getArtistFollowersUseCase: GetArtistFollowers,&#10;    private val repository: FollowerArtistRepository&#10;) {&#10;    fun followArtist(followerId: Int, artistId: Int) {&#10;        followArtistUseCase.invoke(followerId, artistId)&#10;    }&#10;&#10;    fun unfollowArtist(followerId: Int, artistId: Int) {&#10;        unfollowArtistUseCase.invoke(followerId, artistId)&#10;    }&#10;&#10;    fun getFollowedArtists(followerId: Int): List&lt;FollowerArtistDTO&gt; {&#10;        return getFollowedArtistsUseCase.invoke(followerId).map { &#10;            FollowerArtistDTO(it.followerId, it.artistId)&#10;        }&#10;    }&#10;&#10;    fun getArtistFollowers(artistId: Int): List&lt;FollowerArtistDTO&gt; {&#10;        return getArtistFollowersUseCase.invoke(artistId).map {&#10;            FollowerArtistDTO(it.followerId, it.artistId)&#10;        }&#10;    }&#10;&#10;    fun isFollowing(followerId: Int, artistId: Int): Boolean {&#10;        return repository.exists(followerId, artistId)&#10;    }&#10;&#10;    fun getFollowersCount(artistId: Int): Int {&#10;        return getArtistFollowersUseCase.invoke(artistId).size&#10;    }&#10;&#10;    fun getFollowedArtistsIds(followerId: Int): List&lt;Int&gt; {&#10;        return getFollowedArtistsUseCase.invoke(followerId).map { it.artistId }&#10;    }&#10;&#10;    fun getArtistFollowersIds(artistId: Int): List&lt;Int&gt; {&#10;        return getArtistFollowersUseCase.invoke(artistId).map { it.followerId }&#10;    }&#10;&#10;    fun getAllFollowerArtists(): List&lt;FollowerArtistDTO&gt; {&#10;        return repository.getAll().map {&#10;            FollowerArtistDTO(it.followerId, it.artistId)&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Infraestructure/Repositories/InMemoryFollowerArtistRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Infraestructure/Repositories/InMemoryFollowerArtistRepository.kt" />
              <option name="updatedContent" value="package com.adapp.backend.FollowerArtist.Infraestructure.Repositories&#10;&#10;import com.adapp.backend.FollowerArtist.Domain.Models.FollowerArtist&#10;import com.adapp.backend.FollowerArtist.Domain.Repositories.FollowerArtistRepository&#10;&#10;class InMemoryFollowerArtistRepository : FollowerArtistRepository {&#10;    private val followers = mutableListOf&lt;FollowerArtist&gt;()&#10;&#10;    override fun create(followerArtist: FollowerArtist) {&#10;        if (!exists(followerArtist.followerId, followerArtist.artistId)) {&#10;            followers.add(followerArtist)&#10;        }&#10;    }&#10;&#10;    override fun delete(followerId: Int, artistId: Int) {&#10;        followers.removeAll { it.followerId == followerId &amp;&amp; it.artistId == artistId }&#10;    }&#10;&#10;    override fun getByFollowerId(followerId: Int): List&lt;FollowerArtist&gt; {&#10;        return followers.filter { it.followerId == followerId }&#10;    }&#10;&#10;    override fun getByArtistId(artistId: Int): List&lt;FollowerArtist&gt; {&#10;        return followers.filter { it.artistId == artistId }&#10;    }&#10;&#10;    override fun getAll(): List&lt;FollowerArtist&gt; {&#10;        return followers.toList()&#10;    }&#10;&#10;    override fun exists(followerId: Int, artistId: Int): Boolean {&#10;        return followers.any { it.followerId == followerId &amp;&amp; it.artistId == artistId }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Infraestructure/Routes/KtorFollowerArtistRouting.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/FollowerArtist/Infraestructure/Routes/KtorFollowerArtistRouting.kt" />
              <option name="originalContent" value="            }&#10;        }&#10;&#10;        // GET /follower/{followerId}/isFollowing/{artistId} - Verificar si un follower sigue a un artista&#10;        get(&quot;/follower/{followerId}/isFollowing/{artistId}&quot;) {&#10;            try {&#10;                val followerIdParam = call.parameters[&quot;followerId&quot;]&#10;                val artistIdParam = call.parameters[&quot;artistId&quot;]&#10;                &#10;                if (followerIdParam == null || artistIdParam == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Missing follower or artist id&quot;))&#10;                    return@get&#10;                }&#10;                &#10;                val followerId = followerIdParam.toIntOrNull()&#10;                val artistId = artistIdParam.toIntOrNull()&#10;                &#10;                if (followerId == null || artistId == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Invalid id&quot;))&#10;                    return@get&#10;                }&#10;&#10;                val isFollowing = controller.isFollowing(followerId, artistId)&#10;                call.respond(mapOf(&quot;isFollowing&quot; to isFollowing))&#10;            } catch (e: Exception) {&#10;                call.application.environment.log.error(&quot;Error checking follow status&quot;, e)&#10;                call.respond(HttpStatusCode.InternalServerError, mapOf(&quot;message&quot; to (e.message ?: &quot;Error checking follow status&quot;)))&#10;            }&#10;        }&#10;&#10;        // GET /artist/{artistId}/followersCount - Obtener cantidad de seguidores de un artista&#10;        get(&quot;/artist/{artistId}/followersCount&quot;) {&#10;            try {&#10;                val artistIdParam = call.parameters[&quot;artistId&quot;]&#10;                &#10;                if (artistIdParam == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Missing artist id&quot;))&#10;                    return@get&#10;                }&#10;                &#10;                val artistId = artistIdParam.toIntOrNull()&#10;                &#10;                if (artistId == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Invalid id&quot;))&#10;                    return@get&#10;                }&#10;&#10;                val count = controller.getFollowersCount(artistId)&#10;                call.respond(mapOf(&quot;followersCount&quot; to count))&#10;            } catch (e: Exception) {&#10;                call.application.environment.log.error(&quot;Error getting followers count&quot;, e)&#10;                call.respond(HttpStatusCode.InternalServerError, mapOf(&quot;message&quot; to (e.message ?: &quot;Error getting followers count&quot;)))&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.adapp.backend.FollowerArtist.Infraestructure.Routes&#10;&#10;import com.adapp.backend.FollowerArtist.Infraestructure.Controllers.KtorFollowerArtistController&#10;import com.adapp.backend.Artist.Infrastructure.Repositories.InMemoryArtistRepository&#10;import io.ktor.http.*&#10;import io.ktor.server.application.*&#10;import io.ktor.server.response.*&#10;import io.ktor.server.routing.*&#10;import org.koin.ktor.ext.inject&#10;&#10;fun Application.configureFollowerArtistRouting() {&#10;    // Inyectar controller usando Koin&#10;    val controller: KtorFollowerArtistController by inject()&#10;    val artistRepo: InMemoryArtistRepository by inject()&#10;&#10;    routing {&#10;        // POST /follower/{followerId}/follow/{artistId} - Seguir a un artista&#10;        post(&quot;/follower/{followerId}/follow/{artistId}&quot;) {&#10;            try {&#10;                val followerIdParam = call.parameters[&quot;followerId&quot;]&#10;                val artistIdParam = call.parameters[&quot;artistId&quot;]&#10;                &#10;                if (followerIdParam == null || artistIdParam == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Missing follower or artist id&quot;))&#10;                    return@post&#10;                }&#10;                &#10;                val followerId = followerIdParam.toIntOrNull()&#10;                val artistId = artistIdParam.toIntOrNull()&#10;                &#10;                if (followerId == null || artistId == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Invalid id&quot;))&#10;                    return@post&#10;                }&#10;&#10;                controller.followArtist(followerId, artistId)&#10;                call.respond(HttpStatusCode.OK, mapOf(&quot;message&quot; to &quot;Now following artist&quot;))&#10;            } catch (e: Exception) {&#10;                call.application.environment.log.error(&quot;Error following artist&quot;, e)&#10;                call.respond(HttpStatusCode.InternalServerError, mapOf(&quot;message&quot; to (e.message ?: &quot;Error following artist&quot;)))&#10;            }&#10;        }&#10;&#10;        // DELETE /follower/{followerId}/follow/{artistId} - Dejar de seguir a un artista&#10;        delete(&quot;/follower/{followerId}/follow/{artistId}&quot;) {&#10;            try {&#10;                val followerIdParam = call.parameters[&quot;followerId&quot;]&#10;                val artistIdParam = call.parameters[&quot;artistId&quot;]&#10;                &#10;                if (followerIdParam == null || artistIdParam == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Missing follower or artist id&quot;))&#10;                    return@delete&#10;                }&#10;                &#10;                val followerId = followerIdParam.toIntOrNull()&#10;                val artistId = artistIdParam.toIntOrNull()&#10;                &#10;                if (followerId == null || artistId == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Invalid id&quot;))&#10;                    return@delete&#10;                }&#10;&#10;                controller.unfollowArtist(followerId, artistId)&#10;                call.respond(HttpStatusCode.OK, mapOf(&quot;message&quot; to &quot;Unfollowed artist&quot;))&#10;            } catch (e: Exception) {&#10;                call.application.environment.log.error(&quot;Error unfollowing artist&quot;, e)&#10;                call.respond(HttpStatusCode.InternalServerError, mapOf(&quot;message&quot; to (e.message ?: &quot;Error unfollowing artist&quot;)))&#10;            }&#10;        }&#10;&#10;        // GET /follower/{followerId}/following - Obtener artistas seguidos por un follower&#10;        get(&quot;/follower/{followerId}/following&quot;) {&#10;            try {&#10;                val followerIdParam = call.parameters[&quot;followerId&quot;]&#10;                &#10;                if (followerIdParam == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Missing follower id&quot;))&#10;                    return@get&#10;                }&#10;                &#10;                val followerId = followerIdParam.toIntOrNull()&#10;                &#10;                if (followerId == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Invalid id&quot;))&#10;                    return@get&#10;                }&#10;&#10;                val artistIds = controller.getFollowedArtistsIds(followerId)&#10;                val artistController = com.adapp.backend.Artist.Infrastructure.Controllers.KtorArtistController(artistRepo)&#10;                val artists = artistIds.mapNotNull { &#10;                    try {&#10;                        artistController.getOneById(it)&#10;                    } catch(e: Exception) {&#10;                        null&#10;                    }&#10;                }&#10;                call.respond(artists)&#10;            } catch (e: Exception) {&#10;                call.application.environment.log.error(&quot;Error getting followed artists&quot;, e)&#10;                call.respond(HttpStatusCode.InternalServerError, mapOf(&quot;message&quot; to (e.message ?: &quot;Error getting followed artists&quot;)))&#10;            }&#10;        }&#10;&#10;        // GET /follower/{followerId}/isFollowing/{artistId} - Verificar si un follower sigue a un artista&#10;        get(&quot;/follower/{followerId}/isFollowing/{artistId}&quot;) {&#10;            try {&#10;                val followerIdParam = call.parameters[&quot;followerId&quot;]&#10;                val artistIdParam = call.parameters[&quot;artistId&quot;]&#10;                &#10;                if (followerIdParam == null || artistIdParam == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Missing follower or artist id&quot;))&#10;                    return@get&#10;                }&#10;                &#10;                val followerId = followerIdParam.toIntOrNull()&#10;                val artistId = artistIdParam.toIntOrNull()&#10;                &#10;                if (followerId == null || artistId == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Invalid id&quot;))&#10;                    return@get&#10;                }&#10;&#10;                val isFollowing = controller.isFollowing(followerId, artistId)&#10;                call.respond(mapOf(&quot;isFollowing&quot; to isFollowing))&#10;            } catch (e: Exception) {&#10;                call.application.environment.log.error(&quot;Error checking follow status&quot;, e)&#10;                call.respond(HttpStatusCode.InternalServerError, mapOf(&quot;message&quot; to (e.message ?: &quot;Error checking follow status&quot;)))&#10;            }&#10;        }&#10;&#10;        // GET /artist/{artistId}/followersCount - Obtener cantidad de seguidores de un artista&#10;        get(&quot;/artist/{artistId}/followersCount&quot;) {&#10;            try {&#10;                val artistIdParam = call.parameters[&quot;artistId&quot;]&#10;                &#10;                if (artistIdParam == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Missing artist id&quot;))&#10;                    return@get&#10;                }&#10;                &#10;                val artistId = artistIdParam.toIntOrNull()&#10;                &#10;                if (artistId == null) {&#10;                    call.respond(HttpStatusCode.BadRequest, mapOf(&quot;message&quot; to &quot;Invalid id&quot;))&#10;                    return@get&#10;                }&#10;&#10;                val count = controller.getFollowersCount(artistId)&#10;                call.respond(mapOf(&quot;followersCount&quot; to count))&#10;            } catch (e: Exception) {&#10;                call.application.environment.log.error(&quot;Error getting followers count&quot;, e)&#10;                call.respond(HttpStatusCode.InternalServerError, mapOf(&quot;message&quot; to (e.message ?: &quot;Error getting followers count&quot;)))&#10;            }&#10;        }&#10;&#10;        // GET /follower-artist - Obtener TODOS los registros de FollowerArtist (para debugging/testing)&#10;        get(&quot;/follower-artist&quot;) {&#10;            try {&#10;                val allFollowerArtists = controller.getAllFollowerArtists()&#10;                call.respond(HttpStatusCode.OK, allFollowerArtists)&#10;            } catch (e: Exception) {&#10;                call.application.environment.log.error(&quot;Error getting all follower-artist records&quot;, e)&#10;                call.respond(HttpStatusCode.InternalServerError, mapOf(&quot;message&quot; to (e.message ?: &quot;Error getting records&quot;)))&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/Shared/Infrastructure/DI/AppModule.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/AdApp-Backend/src/main/kotlin/com/adapp/backend/Shared/Infrastructure/DI/AppModule.kt" />
              <option name="originalContent" value="package com.adapp.backend.Shared.Infrastructure.DI&#10;&#10;import com.adapp.backend.User.Infrastructure.Repositories.InMemoryUserRepository&#10;import com.adapp.backend.Artist.Infrastructure.Repositories.InMemoryArtistRepository&#10;import com.adapp.backend.SocialMedia.Infrastructure.Repositories.InMemorySocialMediaRepository&#10;import com.adapp.backend.Follower.Infrastructure.Repositories.InMemoryFollowerRepository&#10;import com.adapp.backend.Follower.Infrastructure.Repositories.InMemoryFollowerArtistRepository&#10;import org.koin.dsl.module&#10;&#10;val repositoryModule = module {&#10;    // Repositorios como singletons compartidos&#10;    single { InMemoryUserRepository() }&#10;    single { InMemoryArtistRepository() }&#10;    single { InMemorySocialMediaRepository() }&#10;    single { InMemoryFollowerRepository() }&#10;    single { InMemoryFollowerArtistRepository() }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.adapp.backend.Shared.Infrastructure.DI&#10;&#10;import com.adapp.backend.User.Infrastructure.Repositories.InMemoryUserRepository&#10;import com.adapp.backend.Artist.Infrastructure.Repositories.InMemoryArtistRepository&#10;import com.adapp.backend.SocialMedia.Infrastructure.Repositories.InMemorySocialMediaRepository&#10;import com.adapp.backend.Follower.Infrastructure.Repositories.InMemoryFollowerRepository&#10;import com.adapp.backend.FollowerArtist.Infraestructure.Repositories.InMemoryFollowerArtistRepository&#10;import org.koin.dsl.module&#10;&#10;val repositoryModule = module {&#10;    // Repositorios como singletons compartidos&#10;    single { InMemoryUserRepository() }&#10;    single { InMemoryArtistRepository() }&#10;    single { InMemorySocialMediaRepository() }&#10;    single { InMemoryFollowerRepository() }&#10;    single { InMemoryFollowerArtistRepository() }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>